cl-dtg-make-vm (0.0.15) UNRELEASED; urgency=low

  * Fixing a bug whereby cl-dtg-find-vm would not find a VM whose name contains a space.
  * Updated tempalte UUID, after it was regenerated following the update to 6.2

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Mon, 08 Jul 2013 11:39:34 +0100

cl-dtg-make-vm (0.0.14) precise; urgency=low

  [ Andrew Rice ]
  * cl-dtg-rm-vm: added a check to ensure that you are the owner of a vm you try to delete
  * Fixed capitalisation of vm to VM
  * Changed the name-description parameter of the VM to hold only the DNS name, moved owner to a XenCenter.Customfield
  * Used a new parameter deletable-by to indicate who can delete a VM.  By default it is set to owner.

  [ Oliver Chick ]
  * Case insensitive matching on mac addresses.

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Sat, 11 May 2013 00:58:08 +0100

cl-dtg-make-vm (0.0.13) precise; urgency=low

  [ Oliver Chick ]
  * Checks that VM names are not already used before creating a new one with the same name.
  * Set the VM description as its puppy number for cloned machines.
  * Don't count lines. Just see if the string is empty
  * Added the crsid of the VM's creator to the description.
  * Remove a race condition in the ordering of SSH commands. The condition could result in a VM not getting the most up-to-date puppet config on creation. An error is thrown by cl-dtg-make-vm when this occurs.

  [ Andrew Rice ]
  * New script to work out what the DNS name of a VM is by finding its MAC, working out what IP it has from dhcp and then doing a reverse lookup

  [ Oliver Chick ]

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Wed, 10 Apr 2013 10:19:53 +0100

cl-dtg-make-vm (0.0.12) precise; urgency=high

  * Fix bug in installer that wrote to /usr.bin

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Tue, 02 Apr 2013 01:28:29 +0100

cl-dtg-make-vm (0.0.12) precise; urgency=low

  [ Andrew Rice ]
  * Redirected the output of the puppet configuration to /vat/log/puppet/installlog
  * Changed log file name to be a bit more sane
  * Initial checkin of a script to remove a VM and delete its disks
  * Removed unused imports
  * Style: Fixed whitespace around equals-sign

  [ Oliver Chick ]

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Sat, 30 Mar 2013 12:19:55 +0000

cl-dtg-make-vm (0.0.11) precise; urgency=low

  [ Mattias Linnap ]
  * Move to DMZ script

  [ Oliver Chick ]
  * Remove the packaging stuff from the upstream branch. It should never have been there. Added in dd67085cd1555338c7d09809dcdf43e822819d17 by mistake

  [ Thomas Bytheway ]
  * Updated script shebang line to use /usr/bin/env rather than direct interpreter reference.

  [ Oliver Chick ]
  * Delete me
  * Added documentation to the prepare_vm method
  * added missing fullstops to comments
  * Removed the default name of "" from new_vm, and the test for this value being "".
  * Run the vm-boot script after changing the hostname. This will fix /etc/hosts
  * Reduced the value of {static,dynamic} minimum memory to be 256MiB.

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Fri, 29 Mar 2013 11:24:53 +0000

cl-dtg-make-vm (0.0.10) precise; urgency=low

  * Change VCPUs-max befoe VCPUss-at-startup
  * Change root FS size to 8GB. 4GB is proving to be too small
  * Use root account, not dtg for SSHing into to change the hostname

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Fri, 15 Feb 2013 13:07:18 +0000

cl-dtg-make-vm (0.0.9) precise; urgency=low

  * Fetch latest puppet config from gitlab before running puppet on new VMs

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Thu, 14 Feb 2013 14:53:55 +0000

cl-dtg-make-vm (0.0.8) precise; urgency=high

  * Changed location of preseed file to be on git.dtg, we can therefore remove stuff from the dhcp puppet config

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Thu, 14 Feb 2013 10:54:51 +0000

cl-dtg-make-vm (0.0.7) precise; urgency=low

  * Changed the default VM config, so by default, VMs now have 1 VCPU and 512MB of RAM. These can easily be overriden - see -h for information.
  * Fixed bug that made the script die when a VM is built using 1 VCPU
  * Added magic for SSHing to VMs, setting the hostname and forcing a puppet update, so that you get any config that is dependent on hostname
  * Use socket.gethostbyaddr, rather than shelling out. This is much nicer. WHy didn't I do this before?
  * Tidy up of imports, including removing some duplicates

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Wed, 13 Feb 2013 11:15:46 +0000

cl-dtg-make-vm (0.0.6) precise; urgency=low

  * Change the help associated with the memory command, so it correctly says that memory is specified in MB, not GB
  * Loop until an IP address is found, then print it. This is much better than just waiting 10 seconds
  * Hide the output of the script. Therefore all that we now have printed (if all goes well) is the IP address of the new machine. Therefore you easily do magic where stdout is piped into another command.

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Sat, 09 Feb 2013 14:23:07 +0000

cl-dtg-make-vm (0.0.5-ubuntu1) precise; urgency=low

  * Now VMs are, by default, created from DTG-snapshot. This means we can build a VM in twenty three (23) seconds.
  * Currently, some of the magic is not working correctly. Specifically, the tricks to automagically create new templates fails, as dom0 cannot SSH into the guest, due to key issues that will be fixed at a later date.

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Mon, 04 Feb 2013 11:17:54 +0000

cl-dtg-make-vm (0.0.4) precise; urgency=low

  * Now uses argparse to get options in a more conventional UNIX tools way. Run cl-dtg-make-vm -h for help.

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Sat, 02 Feb 2013 16:13:38 +0000

cl-dtg-make-vm (0.0.3) precise; urgency=low

  * Modification to cl-dtg-make-vm to build VMs with two disks. xvda is used for storing the OS, and xvdb is used for storing /local/data.

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Thu, 24 Jan 2013 01:00:57 +0000

cl-dtg-make-vm (0.0.2) precise; urgency=low

  * No functional change. Modification to build system so launchpad imports from github, and produces a package

 -- Oliver Chick <oc243@cl.cam.ac.uk>  Wed, 16 Jan 2013 15:59:56 +0000

cl-dtg-make-vm (0.0.1) precise; urgency=low

  * Initial release
 -- Oliver Chick <oliver.chick@cl.cam.ac.uk>  Mon, 07 Jan 2013 13:05:01 +0000
